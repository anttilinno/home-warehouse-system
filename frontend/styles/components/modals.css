/* ==========================================================================
   Modal Components
   Modal/dialog styles for retro theme
   ========================================================================== */

@layer components {
  /* Modal overlay - covers entire screen */
  .retro-modal-overlay {
    @apply fixed inset-0 z-50;
    @apply flex items-center justify-center;
  }

  /* Modal backdrop - dark background */
  .retro-modal-backdrop {
    @apply absolute inset-0 bg-black/70;
  }

  /* Modal container */
  .retro-modal {
    @apply relative z-10 w-full m-4;
    @apply bg-card border-4 border-border;
    @apply max-h-[90vh] flex flex-col;
    box-shadow: 4px 4px 0px 0px var(--border);
  }

  /* Modal sizes */
  .retro-modal--xs {
    @apply max-w-xs;
  }

  .retro-modal--sm {
    @apply max-w-sm;
  }

  .retro-modal--md {
    @apply max-w-md;
  }

  .retro-modal--lg {
    @apply max-w-lg;
  }

  .retro-modal--xl {
    @apply max-w-xl;
  }

  .retro-modal--2xl {
    @apply max-w-2xl;
  }

  .retro-modal--full {
    @apply max-w-[95vw] max-h-[95vh];
  }

  /* Modal header */
  .retro-modal__header {
    @apply flex items-center justify-between p-4;
    @apply border-b-4 border-border bg-primary;
  }

  .retro-modal__header--secondary {
    @apply bg-secondary text-foreground;
  }

  .retro-modal__header--danger {
    @apply bg-primary text-white;
  }

  .retro-modal__header--success {
    @apply text-white;
    background-color: var(--nes-green);
  }

  /* Modal title */
  .retro-modal__title {
    @apply retro-heading text-white;
  }

  .retro-modal__header--secondary .retro-modal__title {
    @apply text-foreground;
  }

  /* Modal close button */
  .retro-modal__close {
    @apply p-1 hover:bg-white/20 text-white;
    @apply transition-colors cursor-pointer;
  }

  .retro-modal__header--secondary .retro-modal__close {
    @apply text-foreground hover:bg-muted;
  }

  /* Modal body */
  .retro-modal__body {
    @apply p-4 space-y-4 overflow-y-auto flex-1;
  }

  .retro-modal__body--flush {
    @apply p-0;
  }

  .retro-modal__body--compact {
    @apply p-2 space-y-2;
  }

  /* Modal footer */
  .retro-modal__footer {
    @apply flex justify-end gap-3 p-4;
    @apply border-t-4 border-border;
  }

  .retro-modal__footer--between {
    @apply justify-between;
  }

  .retro-modal__footer--start {
    @apply justify-start;
  }

  .retro-modal__footer--center {
    @apply justify-center;
  }

  /* Alert/Confirm modal */
  .retro-alert {
    @apply relative z-10 w-full m-4 max-w-sm;
    @apply bg-card border-4 border-border;
    @apply max-h-[90vh] flex flex-col;
    box-shadow: 4px 4px 0px 0px var(--border);
  }

  .retro-alert__icon {
    @apply w-12 h-12 mx-auto mb-4;
  }

  .retro-alert__icon--warning {
    @apply text-yellow-500;
  }

  .retro-alert__icon--error {
    @apply text-primary;
  }

  .retro-alert__icon--success {
    color: var(--nes-green);
  }

  .retro-alert__icon--info {
    color: var(--nes-blue);
  }

  .retro-alert__message {
    @apply text-center retro-body;
  }

  /* Confirm delete styling */
  .retro-modal--confirm-delete .retro-modal__header {
    @apply bg-primary;
  }

  /* Item preview in modal */
  .retro-modal__preview {
    @apply p-3 bg-muted border-4 border-border;
  }

  .retro-modal__preview-title {
    @apply retro-heading mb-1;
  }

  .retro-modal__preview-subtitle {
    @apply text-muted-foreground retro-small;
  }

  /* Loading state overlay for modal */
  .retro-modal__loading {
    @apply absolute inset-0 bg-card/80 z-10;
    @apply flex items-center justify-center;
  }

  .retro-modal__loading-text {
    @apply retro-heading animate-pulse;
  }

  /* Drawer/Slide-in modal variant */
  .retro-drawer {
    @apply fixed inset-y-0 right-0 z-50;
    @apply w-full max-w-md;
    @apply bg-card border-l-4 border-t-0 border-b-0 border-r-0 border-border;
    @apply flex flex-col h-full;
    @apply transform transition-transform duration-300;
  }

  .retro-drawer--closed {
    @apply translate-x-full;
  }

  .retro-drawer--open {
    @apply translate-x-0;
  }

  .retro-drawer__header {
    @apply flex items-center justify-between p-4 border-b-4 border-border bg-primary;
  }

  .retro-drawer__body {
    @apply p-4 space-y-4 overflow-y-auto flex-1;
  }

  .retro-drawer__footer {
    @apply flex justify-end gap-3 p-4 border-t-4 border-border;
  }
}

/* ==========================================================================
   Retro Dark Theme Overrides
   Softer styling with 2px borders and subtle shadows
   ========================================================================== */

.retro-dark .retro-modal {
  border-width: 2px;
  border-radius: 0.5rem;
  box-shadow: 4px 4px 0px 0px rgba(0, 0, 0, 0.5);
}

.retro-dark .retro-modal__header {
  border-bottom-width: 2px;
}

.retro-dark .retro-modal__footer {
  border-top-width: 2px;
}

.retro-dark .retro-alert {
  border-width: 2px;
  border-radius: 0.5rem;
  box-shadow: 4px 4px 0px 0px rgba(0, 0, 0, 0.5);
}

.retro-dark .retro-modal__preview {
  border-width: 2px;
  border-radius: 0.25rem;
}

.retro-dark .retro-drawer {
  border-left-width: 2px;
}

.retro-dark .retro-drawer__header {
  border-bottom-width: 2px;
}

.retro-dark .retro-drawer__footer {
  border-top-width: 2px;
}
