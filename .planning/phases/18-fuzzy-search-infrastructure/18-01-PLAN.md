---
phase: 18-fuzzy-search-infrastructure
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/package.json
  - frontend/components/ui/global-search-results.tsx
autonomous: true

must_haves:
  truths:
    - "Fuse.js v7.1.0 is installed as a production dependency"
    - "Search result items have 44x44px minimum touch targets"
  artifacts:
    - path: "frontend/package.json"
      provides: "Fuse.js dependency"
      contains: "fuse.js"
    - path: "frontend/components/ui/global-search-results.tsx"
      provides: "Mobile-friendly search results"
      min_lines: 50
  key_links: []
---

<objective>
Install Fuse.js fuzzy search library and enhance search results touch targets for mobile.

Purpose: Provides the fuzzy search library needed for offline search and ensures search UI meets mobile accessibility requirements (SRCH-05: 44x44px touch targets).

Output: Fuse.js available for import, search results mobile-friendly.
</objective>

<execution_context>
@/home/antti/.claude/get-shit-done/workflows/execute-plan.md
@/home/antti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/research/SUMMARY.md

Reference files:
@frontend/package.json
@frontend/components/ui/global-search-results.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Fuse.js dependency</name>
  <files>frontend/package.json</files>
  <action>
Install fuse.js v7.1.0 as a production dependency using bun:

```bash
cd frontend && bun add fuse.js@7.1.0
```

This provides:
- Client-side fuzzy search (6KB gzipped)
- Zero dependencies
- TypeScript support built-in
- Works with React 19 (no compatibility issues)

Verify the dependency is added to package.json with exact version.
  </action>
  <verify>
Run `cat frontend/package.json | grep fuse.js` to confirm dependency added.
Run `cd frontend && bun run build` to verify no build errors.
  </verify>
  <done>fuse.js@7.1.0 listed in package.json dependencies, build succeeds</done>
</task>

<task type="auto">
  <name>Task 2: Enhance search results touch targets</name>
  <files>frontend/components/ui/global-search-results.tsx</files>
  <action>
Update GlobalSearchResults component to ensure 44x44px minimum touch targets for mobile accessibility (SRCH-05).

Changes:
1. Add min-h-[44px] to each result item button/link
2. Add min-w-[44px] for icon containers
3. Ensure padding creates adequate touch area (p-3 minimum)
4. Add touch-action-manipulation for better mobile response

Look for the result item rendering (likely mapping over items/borrowers/containers/locations) and ensure each clickable element has:
- `min-h-[44px]` class
- Adequate horizontal padding (px-3 or more)
- If icon buttons exist, ensure min-w-[44px] and min-h-[44px]

This is a Tailwind CSS change - no new dependencies needed.
  </action>
  <verify>
Visually inspect the component code to confirm:
- Result items have min-h-[44px] class
- Clickable areas have adequate padding
- Touch targets meet 44x44px minimum
  </verify>
  <done>All search result items meet 44x44px minimum touch target requirement</done>
</task>

</tasks>

<verification>
1. Run `cd frontend && bun run build` - should complete without errors
2. Run `cd frontend && bun run lint` - should pass
3. Check package.json contains fuse.js@7.1.0
4. Check GlobalSearchResults has 44px touch targets
</verification>

<success_criteria>
- fuse.js v7.1.0 installed and importable
- Frontend builds successfully
- Search results have 44x44px minimum touch targets (SRCH-05)
</success_criteria>

<output>
After completion, create `.planning/phases/18-fuzzy-search-infrastructure/18-01-SUMMARY.md`
</output>
