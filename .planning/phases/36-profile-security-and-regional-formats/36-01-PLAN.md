---
phase: 36-profile-security-and-regional-formats
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/app/[locale]/(dashboard)/dashboard/settings/profile/page.tsx
  - frontend/app/[locale]/(dashboard)/dashboard/settings/security/page.tsx
  - frontend/app/[locale]/(dashboard)/dashboard/settings/regional-formats/page.tsx
autonomous: true

must_haves:
  truths:
    - "User can navigate to the Profile subpage and edit their name, email, and avatar"
    - "User can navigate to the Security subpage and change their password, view/revoke sessions, and delete their account"
    - "User can navigate to the Regional Formats subpage and configure date, time, and number format preferences"
    - "Settings hub profile card displays the user's current avatar, full name, and email (already satisfied by Phase 35)"
  artifacts:
    - path: "frontend/app/[locale]/(dashboard)/dashboard/settings/profile/page.tsx"
      provides: "Profile subpage rendering AccountSettings component"
      contains: "AccountSettings"
    - path: "frontend/app/[locale]/(dashboard)/dashboard/settings/security/page.tsx"
      provides: "Security subpage rendering SecuritySettings component"
      contains: "SecuritySettings"
    - path: "frontend/app/[locale]/(dashboard)/dashboard/settings/regional-formats/page.tsx"
      provides: "Regional Formats subpage rendering DateFormatSettings, TimeFormatSettings, NumberFormatSettings"
      contains: "DateFormatSettings"
  key_links:
    - from: "frontend/app/[locale]/(dashboard)/dashboard/settings/profile/page.tsx"
      to: "frontend/components/settings/account-settings.tsx"
      via: "import and render"
      pattern: "import.*AccountSettings.*account-settings"
    - from: "frontend/app/[locale]/(dashboard)/dashboard/settings/security/page.tsx"
      to: "frontend/components/settings/security-settings.tsx"
      via: "import and render"
      pattern: "import.*SecuritySettings.*security-settings"
    - from: "frontend/app/[locale]/(dashboard)/dashboard/settings/regional-formats/page.tsx"
      to: "frontend/components/settings/date-format-settings.tsx"
      via: "import and render"
      pattern: "import.*DateFormatSettings.*date-format-settings"
---

<objective>
Replace all three stub subpages (profile, security, regional-formats) with functional pages that compose existing settings components.

Purpose: Wire the orphaned settings components (AccountSettings, SecuritySettings, DateFormatSettings, TimeFormatSettings, NumberFormatSettings) into the subpage routes created in Phase 35, completing the hub-and-subpage architecture for these three categories.
Output: Three functional settings subpages that render all existing settings UI -- zero new components, zero backend changes.
</objective>

<execution_context>
@/home/antti/.claude/get-shit-done/workflows/execute-plan.md
@/home/antti/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/36-profile-security-and-regional-formats/36-RESEARCH.md
@frontend/app/[locale]/(dashboard)/dashboard/settings/profile/page.tsx
@frontend/app/[locale]/(dashboard)/dashboard/settings/security/page.tsx
@frontend/app/[locale]/(dashboard)/dashboard/settings/regional-formats/page.tsx
@frontend/components/settings/account-settings.tsx
@frontend/components/settings/security-settings.tsx
@frontend/components/settings/date-format-settings.tsx
@frontend/components/settings/time-format-settings.tsx
@frontend/components/settings/number-format-settings.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace profile stub with AccountSettings composition</name>
  <files>frontend/app/[locale]/(dashboard)/dashboard/settings/profile/page.tsx</files>
  <action>
Replace the "Coming soon" stub content with the AccountSettings component. Keep the existing structure: "use client" directive, mobile back link with ArrowLeft icon, page heading h2 using `t("nav.profile")`.

Changes to the existing stub:
1. Add import for `AccountSettings` from `@/components/settings/account-settings`
2. Replace `{t("comingSoon")}` description with `{t("account.description")}` -- this reads "Manage your profile information"
3. Add `<AccountSettings />` after the heading div

Do NOT add a Card wrapper around AccountSettings -- it already has its own Card. Do NOT modify AccountSettings itself. The page is a layout container only.

The final file should be approximately 25-30 lines following the exact pattern from the research code examples.
  </action>
  <verify>Run `cd /home/antti/Repos/Misc/home-warehouse-system/frontend && npx next build 2>&1 | tail -20` to confirm no build errors. Verify the file imports AccountSettings and renders it.</verify>
  <done>Profile subpage renders the AccountSettings component with name/email form and avatar upload. Mobile back link preserved. Satisfies PROF-01 and PROF-02.</done>
</task>

<task type="auto">
  <name>Task 2: Replace security stub with SecuritySettings composition</name>
  <files>frontend/app/[locale]/(dashboard)/dashboard/settings/security/page.tsx</files>
  <action>
Replace the "Coming soon" stub content with the SecuritySettings component. Keep the existing structure: "use client" directive, mobile back link with ArrowLeft icon, page heading h2 using `t("nav.security")`.

Changes to the existing stub:
1. Add import for `SecuritySettings` from `@/components/settings/security-settings`
2. Replace `{t("comingSoon")}` description with `{t("security.description")}` -- this reads "Manage your password and active sessions"
3. Add `<SecuritySettings />` after the heading div

SecuritySettings is a composite that already renders PasswordChange, ActiveSessions, and DeleteAccountDialog internally with proper spacing. Do NOT import those sub-components directly. Do NOT wrap in a Card.
  </action>
  <verify>Verify the file imports SecuritySettings and renders it. Build verification shared with Task 1.</verify>
  <done>Security subpage renders PasswordChange, ActiveSessions, and DeleteAccountDialog (via SecuritySettings composite). Mobile back link preserved. Satisfies SECU-01, SECU-02, SECU-03.</done>
</task>

<task type="auto">
  <name>Task 3: Replace regional-formats stub with format settings composition</name>
  <files>frontend/app/[locale]/(dashboard)/dashboard/settings/regional-formats/page.tsx</files>
  <action>
Replace the "Coming soon" stub content with the three format settings components stacked vertically. Keep the existing structure: "use client" directive, mobile back link with ArrowLeft icon, page heading h2 using `t("nav.regionalFormats")`.

Changes to the existing stub:
1. Add imports for `DateFormatSettings` from `@/components/settings/date-format-settings`, `TimeFormatSettings` from `@/components/settings/time-format-settings`, `NumberFormatSettings` from `@/components/settings/number-format-settings`
2. Replace `{t("comingSoon")}` description with `{t("hub.regionalFormatsDesc")}` -- this reads "Date, time, and number display preferences"
3. Add `<DateFormatSettings />`, `<TimeFormatSettings />`, and `<NumberFormatSettings />` after the heading div, in that order

Each component has its own Card wrapper. The parent `<div className="space-y-6">` provides consistent vertical spacing between them. Do NOT add extra wrappers.
  </action>
  <verify>Run `cd /home/antti/Repos/Misc/home-warehouse-system/frontend && npx next build 2>&1 | tail -20` to confirm no build errors across all three modified files.</verify>
  <done>Regional Formats subpage renders DateFormatSettings, TimeFormatSettings, and NumberFormatSettings as stacked cards. Mobile back link preserved. Satisfies FMTS-01, FMTS-02, FMTS-03.</done>
</task>

</tasks>

<verification>
Phase 36 requirement coverage:

- PROF-01 (name/email editing): Profile page renders AccountSettings which contains name/email form
- PROF-02 (avatar upload/change): Profile page renders AccountSettings which contains AvatarUpload
- PROF-03 (hub profile card): Already satisfied by Phase 35 hub page (lines 46-63) -- avatar, name, email displayed
- SECU-01 (password change): Security page renders SecuritySettings containing PasswordChange
- SECU-02 (active sessions): Security page renders SecuritySettings containing ActiveSessions
- SECU-03 (account deletion): Security page renders SecuritySettings containing DeleteAccountDialog
- FMTS-01 (date format): Regional Formats page renders DateFormatSettings
- FMTS-02 (time format): Regional Formats page renders TimeFormatSettings
- FMTS-03 (number format): Regional Formats page renders NumberFormatSettings

All 9 requirements covered. Build passes with `npx next build`.
</verification>

<success_criteria>
1. All three subpages render their respective settings components (not "Coming soon" text)
2. Mobile back navigation works on all three subpages (ArrowLeft link to /dashboard/settings)
3. Frontend build succeeds without errors
4. No changes to any existing component files -- only the 3 page.tsx stubs are modified
5. Hub profile card continues to display avatar, name, and email (PROF-03 unchanged)
</success_criteria>

<output>
After completion, create `.planning/phases/36-profile-security-and-regional-formats/36-01-SUMMARY.md`
</output>
